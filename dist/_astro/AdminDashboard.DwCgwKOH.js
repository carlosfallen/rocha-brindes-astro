import{q as re,o as te,c as Y,d as T,g as me,j as e,s as X,b as W,h as he,u as oe,i as fe,l as le,k as be,m as ue,a as ne,n as ye,f as je}from"./Providers.CiR80n1m.js";import{a as c}from"./index.Csrxt8z8.js";import{c as B,u as ge,o as pe,C as ve,a as Ne}from"./chevron-right.XT0tCFxe.js";import{X as J}from"./x.1UEnyT-Q.js";import{S as we}from"./search.CE-vMdkK.js";import{T as xe}from"./trash-2.BsikKjyH.js";import{P as Ce}from"./phone.yV71U2Sd.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=B("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function ie(){return ge({queryKey:["categories"],queryFn:async()=>{const s=re(Y(T,"categorias"),te("nome"));return(await me(s)).docs.map(l=>({id:l.id,...l.data()}))},staleTime:300*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1})}const ze="iem94FVEkj3Qjv3DsJXpbQ";async function H(s,o){const l=s.name.split(".").pop()?.toLowerCase()||"jpg";let y="";if(o.type==="main"&&o.productId)y=`${o.productId}.${l}`;else if(o.type==="variation"&&o.productId&&o.variation){const P=o.variation.toLowerCase().replace(/\s+/g,"-");y=`${o.productId}-${P}.${l}`}else y=s.name;const E=new File([s],y,{type:s.type}),v=new FormData;v.append("file",E),v.append("metadata",JSON.stringify({folder:o.folder,productId:o.productId,variation:o.variation,type:o.type,filename:y,uploadDate:new Date().toISOString()}));const z=await fetch("https://imagens.bjeslee19.workers.dev/",{method:"POST",body:v}),S=await z.text();let p;try{p=JSON.parse(S)}catch{p=S}if(!z.ok)throw console.error("Upload error RAW:",p),new Error(typeof p=="string"?p:JSON.stringify(p));if(!p||!p.imageId)throw console.error("Upload OK mas sem imageId:",p),new Error("ID da imagem não retornado pelo servidor");return p.imageId}function Z(s,o="public"){return s?s.startsWith("http://")||s.startsWith("https://")||s.startsWith("blob:")||s.startsWith("data:")?s:`https://imagedelivery.net/${ze}/${s}/${o}`:""}async function Q(s){if(s&&!(s.startsWith("http://")||s.startsWith("https://"))&&!(s.startsWith("blob:")||s.startsWith("data:")))try{const o=await fetch("https://imagens.bjeslee19.workers.dev/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:s})});if(!o.ok){const l=await o.text();console.error(`Erro ao deletar imagem ${s}:`,l)}}catch(o){console.error(`Erro ao deletar imagem ${s}:`,o)}}async function Pe(s){const o=s.filter(l=>l&&!l.startsWith("http")&&!l.startsWith("blob:")&&!l.startsWith("data:"));if(o.length!==0)try{const l=await fetch("https://imagens.bjeslee19.workers.dev/delete-multiple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageIds:o})});if(!l.ok){const y=await l.text();console.error("Erro ao deletar múltiplas imagens:",y)}}catch(l){console.error("Erro ao deletar múltiplas imagens:",l)}}const Ae="1t7T-5mU4ET0kjqd8x_sXlEwunwogCBrlqFnYpVaoyvE",De="AIzaSyAWUmt2UDeXxY1my2ajGU5bAMSjuU0L14o",Le="produtos!A:Z";function de(s){return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().trim()}function _e(s,o){if(!s||!o)return s;const l=new RegExp(`\\s+${o}$`,"i");return s.replace(l,"").trim()}async function Oe(s){const o=s.trim();if(!o)return null;const l=o.split("_"),y=l.length>2?l.slice(0,l.length-1).join("_"):o,E=`https://sheets.googleapis.com/v4/spreadsheets/${Ae}/values/${encodeURIComponent(Le)}?key=${De}`,v=await fetch(E);if(!v.ok)throw console.error("Erro ao buscar planilha:",await v.text()),new Error("Não foi possível acessar a planilha do Google Sheets");const S=(await v.json()).values||[];if(!S.length)return null;const[p,...P]=S;console.log("Header da planilha:",p),console.log("Primeira linha de dados:",P[0]);const w=u=>de(u||""),k=p.findIndex(u=>{const x=w(u);return["ID","CODIGO","CÓDIGO","SKU","COD","CODE"].includes(x)}),D=p.findIndex(u=>{const x=w(u);return["NOME","PRODUTO","DESCRICAO_CURTA","NAME"].includes(x)}),A=p.findIndex(u=>{const x=w(u);return["DESCRICAO","DESCRIÇÃO","DESC","DESCRIPTION"].includes(x)}),L=p.findIndex(u=>{const x=w(u);return["COR","CORES","VARIACAO","VARIACOES","VARIAÇÃO","COLOR"].includes(x)}),_=p.findIndex(u=>{const x=w(u);return["CATEGORIA","CATEGORIAS","GRUPO","CATEGORY"].includes(x)}),N=p.findIndex(u=>{const x=w(u);return["DESTAQUE","HIGHLIGHT","FEATURED"].includes(x)});if(k===-1)throw console.error("Colunas disponíveis:",p.map((u,x)=>`${x}: ${u}`)),new Error(`Coluna de código/SKU não encontrada na planilha. Colunas disponíveis: ${p.join(", ")}`);const n=P.filter(u=>{const x=(u[k]||"").trim();return x?x===y||x.startsWith(y+"_"):!1});if(!n.length)return null;let g="",C="";const O=new Set;let r=!1;const f=[];for(const u of n){const x=D>=0?(u[D]||"").trim():"",V=A>=0?(u[A]||"").trim():"",t=L>=0?(u[L]||"").trim():"",a=_>=0?(u[_]||"").trim():"",m=N>=0?(u[N]||"").trim():"";!g&&x&&(g=t?_e(x,t):x),!C&&V&&(C=V),a&&a.split(",").map(h=>h.trim()).filter(Boolean).forEach(h=>O.add(h)),typeof m=="string"&&["SIM","TRUE","1","YES","S"].includes(de(m))&&(r=!0),t&&!f.find(h=>h.cor===t)&&f.push({cor:t})}const b=Array.from(O);return{baseSku:y,nome:g||y,descricao:C,categorias:b,destaque:r,variacoes:f}}function Ue(){const[s,o]=c.useState(""),[l,y]=c.useState(""),[E,v]=c.useState(""),[z,S]=c.useState(!1),[p,P]=c.useState([]),[w,k]=c.useState(!1),[D,A]=c.useState(null),[L,_]=c.useState(""),[N,n]=c.useState([]),[g,C]=c.useState(""),[O,r]=c.useState(""),[f,b]=c.useState(!1),[u,x]=c.useState(""),[V,t]=c.useState(!1),{data:a=[]}=ie(),m=i=>{const d=i.target.files?.[0];d&&(A(d),_(URL.createObjectURL(d)))},h=()=>{if(g.trim()){const i=g.trim(),d=[...N,{cor:i,image:null,preview:""}];n(d),O||r(i),C("")}},j=(i,d)=>{const R=[...N];R[i].image=d,R[i].preview=URL.createObjectURL(d),n(R)},q=i=>{const d=N[i]?.cor,R=N.filter((I,$)=>$!==i);n(R),r(I=>I&&I===d?R[0]?.cor??"":I)},U=async()=>{const i=l.trim();if(i){t(!0),x("");try{const d=await Oe(i);if(!d){x("Nenhum produto encontrado na planilha com esse código.");return}if(y(d.baseSku),d.nome&&o(d.nome),d.descricao&&v(d.descricao),d.categorias?.length&&(P(d.categorias),k(!1)),S(d.destaque),d.variacoes?.length){const R=d.variacoes.map($=>({cor:$.cor,image:null,preview:""}));n(R);const I=d.variacoes.find($=>$.cor.toLowerCase().includes("preto"));I?r(I.cor):d.variacoes[0]?r(d.variacoes[0].cor):r("")}else n([]),r("");x("Dados preenchidos a partir da planilha ✅")}catch(d){console.error(d),x("Erro ao buscar dados na planilha.")}finally{t(!1)}}},M=async i=>{if(i.preventDefault(),p.length===0){k(!0),x("Selecione pelo menos uma categoria");return}k(!1),b(!0),x("");try{if(!l.trim())throw new Error("Informe um código/SKU");const d=[],R=[];let I=null;const $={};for(const K of N){if(!K.image)continue;const F=await H(K.image,{folder:`produtos/${l}/variacoes`,productId:l,variation:K.cor,type:"variation"});R.push({cor:K.cor,imagem_url:F,thumb_url:F}),d.push(F),$[K.cor]=F}if(D)I=await H(D,{folder:`produtos/${l}`,productId:l,type:"main"}),d.unshift(I);else if(O&&$[O])I=$[O];else{const K=Object.keys($).find(F=>F.toLowerCase().includes("preto"));if(K)I=$[K];else{const F=Object.values($)[0];F&&(I=F)}}if(!I)throw new Error("Envie pelo menos uma imagem (principal ou de alguma variação).");await X(W(Y(T,"produtos"),l),{id:l,nome:s,descricao:E,categorias:p,destaque:z,variacoes:R,imagem_url:I,thumb_url:I,imagens_urls:d,thumbs_urls:d,createdAt:he()}),x("Produto salvo com sucesso!"),o(""),y(""),v(""),S(!1),P([]),k(!1),A(null),_(""),n([]),C(""),r("")}catch(d){console.error(d),x(d instanceof Error?d.message:"Erro ao salvar produto")}finally{b(!1)}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-title font-bold mb-6",children:"Adicionar Produto"}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nome"}),e.jsx("input",{type:"text",value:s,onChange:i=>o(i.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"SKU/Código"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:i=>y(i.target.value),onBlur:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0}),e.jsx("button",{type:"button",onClick:U,disabled:V,className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50",children:V?"Buscando...":"Planilha"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descrição"}),e.jsx("textarea",{value:E,onChange:i=>v(i.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Categorias ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`flex flex-wrap gap-2 p-3 rounded-lg border-2 ${w?"border-red-300 bg-red-50":"border-gray-200"}`,children:a.map(i=>e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg cursor-pointer hover:bg-gray-50 border border-gray-200",children:[e.jsx("input",{type:"checkbox",checked:p.includes(i.nome),onChange:d=>{k(!1),d.target.checked?P(R=>[...R,i.nome]):P(R=>R.filter(I=>I!==i.nome))},className:"rounded"}),e.jsx("span",{className:"text-sm",children:i.nome})]},i.id))}),w&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Selecione pelo menos uma categoria"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:z,onChange:i=>S(i.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:"Produto em destaque"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Imagem Principal (opcional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:L?e.jsxs("div",{className:"relative aspect-square max-w-xs mx-auto",children:[e.jsx("img",{src:L,alt:"Preview",className:"w-full h-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>{A(null),_("")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1",children:e.jsx(J,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center gap-2 cursor-pointer",children:[e.jsx(G,{className:"text-gray-400",size:48}),e.jsx("span",{className:"text-sm text-gray-600",children:"Clique para selecionar imagem principal (opcional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Variações de Cor"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:g,onChange:i=>C(i.target.value),onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),h())},placeholder:"Nome da cor (ex: Vermelho, Preto fosco)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary"}),e.jsx("button",{type:"button",onClick:h,className:"bg-primary hover:opacity-90 text-text-primary px-4 py-2 rounded-lg font-semibold",children:"Adicionar"})]}),N.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Cor principal"}),e.jsxs("select",{value:O,onChange:i=>r(i.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"",children:"Selecione a cor principal"}),N.map((i,d)=>e.jsx("option",{value:i.cor,children:i.cor},i.cor+d))]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Essa cor será usada como principal se você não enviar imagem principal do produto."})]}),e.jsx("div",{className:"space-y-3",children:N.map((i,d)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:i.cor}),i.preview?e.jsx("div",{className:"relative w-24 h-24",children:e.jsx("img",{src:i.preview,alt:i.cor,className:"w-full h-full object-cover rounded"})}):e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50",children:[e.jsx(G,{size:16}),e.jsx("span",{className:"text-xs",children:"Adicionar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:R=>{const I=R.target.files?.[0];I&&j(d,I)},className:"hidden"})]})]}),e.jsx("button",{type:"button",onClick:()=>q(d),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:e.jsx(J,{size:18})})]},d))})]}),u&&e.jsx("p",{className:`text-center font-semibold ${u.includes("sucesso")||u.includes("planilha")?"text-green-600":"text-red-600"}`,children:u}),e.jsx("button",{type:"submit",disabled:f,className:"w-full bg-primary hover:opacity-90 text-text-primary font-bold py-3 rounded-lg transition-all disabled:opacity-50",children:f?"Salvando...":"Salvar Produto"})]})]})}function Re({product:s,onClose:o}){const[l,y]=c.useState(s.nome||""),[E,v]=c.useState(s.descricao||""),[z,S]=c.useState(s.destaque||!1),[p,P]=c.useState(s.categorias||[]),[w,k]=c.useState(null),[D,A]=c.useState(s.imagem_url?Z(s.imagem_url,"thumbnail"):""),[L,_]=c.useState(s.variacoes?.map(a=>({cor:a.cor,image:null,preview:Z(a.imagem_url,"thumbnail"),existingUrl:a.imagem_url}))||[]),[N,n]=c.useState(""),[g,C]=c.useState(!1),[O,r]=c.useState(""),{data:f=[]}=ie(),b=a=>{const m=a.target.files?.[0];m&&(k(m),A(URL.createObjectURL(m)))},u=()=>{N.trim()&&(_([...L,{cor:N.trim(),image:null,preview:""}]),n(""))},x=(a,m)=>{const h=[...L];h[a].image=m,h[a].preview=URL.createObjectURL(m),_(h)},V=a=>{_(L.filter((m,h)=>h!==a))},t=async a=>{a.preventDefault(),C(!0),r("");try{let m=s.imagem_url;w&&(m=await H(w,{folder:`produtos/${s.id}`,productId:s.id,type:"main"}),s.imagem_url&&s.imagem_url!==m&&await Q(s.imagem_url));const h=[],j=[m],q=s.variacoes?.map(U=>U.imagem_url)||[];for(const U of L)if(U.image){const M=await H(U.image,{folder:`produtos/${s.id}/variacoes`,productId:s.id,variation:U.cor,type:"variation"});if(h.push({cor:U.cor,imagem_url:M,thumb_url:M}),j.push(M),U.existingUrl&&U.existingUrl!==M){const i=q.indexOf(U.existingUrl);i>-1&&q.splice(i,1)}}else if(U.existingUrl){const M=s.variacoes?.find(i=>i.cor===U.cor);if(M){h.push(M),j.push(M.imagem_url);const i=q.indexOf(M.imagem_url);i>-1&&q.splice(i,1)}}for(const U of q)await Q(U);await oe(W(T,"produtos",s.id),{nome:l,descricao:E,categorias:p,destaque:z,variacoes:h,imagem_url:m,thumb_url:m,imagens_urls:j,thumbs_urls:j}),r("Produto atualizado com sucesso!"),setTimeout(()=>o(),1500)}catch(m){console.error(m),r(m instanceof Error?m.message:"Erro ao atualizar produto")}finally{C(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10",children:[e.jsx("h2",{className:"text-xl font-title font-bold",children:"Editar Produto"}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(J,{size:20})})]}),e.jsxs("form",{onSubmit:t,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nome"}),e.jsx("input",{type:"text",value:l,onChange:a=>y(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"SKU/Código"}),e.jsx("input",{type:"text",value:s.id,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descrição"}),e.jsx("textarea",{value:E,onChange:a=>v(a.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Categorias"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(a=>e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:p.includes(a.nome),onChange:m=>{m.target.checked?P(h=>[...h,a.nome]):P(h=>h.filter(j=>j!==a.nome))},className:"rounded"}),e.jsx("span",{className:"text-sm",children:a.nome})]},a.id))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:z,onChange:a=>S(a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:"Produto em destaque"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Imagem Principal"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:D?e.jsxs("div",{className:"relative aspect-square max-w-xs mx-auto",children:[e.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-contain"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-primary text-white p-2 rounded-full cursor-pointer hover:opacity-90 shadow-lg transition-opacity",children:[e.jsx(G,{size:16}),e.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center gap-2 cursor-pointer",children:[e.jsx(G,{className:"text-gray-400",size:48}),e.jsx("span",{className:"text-sm text-gray-600",children:"Clique para selecionar imagem principal"}),e.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Variações de Cor"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:N,onChange:a=>n(a.target.value),onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),u())},placeholder:"Nome da cor (ex: Vermelho, Preto fosco)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"}),e.jsx("button",{type:"button",onClick:u,className:"bg-primary hover:opacity-90 text-white px-4 py-2 rounded-lg font-semibold transition-opacity",children:"Adicionar"})]}),e.jsx("div",{className:"space-y-3",children:L.map((a,m)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:a.cor}),a.preview?e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("img",{src:a.preview,alt:a.cor,className:"w-full h-full object-cover rounded"}),e.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1 rounded cursor-pointer hover:opacity-90 shadow-md transition-opacity",children:[e.jsx(G,{size:12}),e.jsx("input",{type:"file",accept:"image/*",onChange:h=>{const j=h.target.files?.[0];j&&x(m,j)},className:"hidden"})]})]}):e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(G,{size:16}),e.jsx("span",{className:"text-xs",children:"Adicionar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:h=>{const j=h.target.files?.[0];j&&x(m,j)},className:"hidden"})]})]}),e.jsx("button",{type:"button",onClick:()=>V(m),className:"text-red-500 hover:bg-red-50 p-2 rounded transition-colors",children:e.jsx(J,{size:18})})]},m))})]}),O&&e.jsx("div",{className:`p-3 rounded-lg text-center font-semibold ${O.includes("sucesso")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:O}),e.jsx("button",{type:"submit",disabled:g,className:"w-full bg-primary hover:opacity-90 text-white font-bold py-3 rounded-lg transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Salvando...":"Salvar Alterações"})]})]})})}function qe(){const[s,o]=c.useState(0),[l,y]=c.useState([]),[E,v]=c.useState(null),[z,S]=c.useState(null),[p,P]=c.useState(""),w=50,k=fe(),D=c.useMemo(()=>{const r=re(Y(T,"produtos"),te("createdAt","desc"),le(w));return s>0&&l[s-1]?re(Y(T,"produtos"),te("createdAt","desc"),be(l[s-1]),le(w)):r},[s,l,w]),{data:A=[],isLoading:L,refetch:_,isFetching:N}=ge({queryKey:["admin-products",s,w,l[s-1]?.id],queryFn:async()=>{const f=(await me(D)).docs;return f.length>0&&y(b=>{const u=[...b];return u[s]=f[f.length-1],u}),f.map(b=>({id:b.id,...b.data()}))},placeholderData:r=>r??[],staleTime:3e4}),n=c.useMemo(()=>{if(!p.trim())return A;const r=p.toLowerCase();return A.filter(f=>f.nome.toLowerCase().includes(r)||f.id.toLowerCase().includes(r))},[A,p]),g=async r=>{if(confirm(`Tem certeza que deseja excluir "${r.nome}"?`)){S(r.id);try{const f=[];r.imagem_url&&f.push(r.imagem_url),r.thumb_url&&r.thumb_url!==r.imagem_url&&f.push(r.thumb_url),r.imagens_urls?.length&&r.imagens_urls.forEach(b=>{f.includes(b)||f.push(b)}),r.thumbs_urls?.length&&r.thumbs_urls.forEach(b=>{f.includes(b)||f.push(b)}),r.variacoes?.length&&r.variacoes.forEach(b=>{b.imagem_url&&!f.includes(b.imagem_url)&&f.push(b.imagem_url),b.thumb_url&&!f.includes(b.thumb_url)&&f.push(b.thumb_url)}),await Pe(f),await ue(W(T,"produtos",r.id)),await k.invalidateQueries({queryKey:["admin-products"]}),await _()}catch(f){console.error("Erro ao deletar produto:",f),alert("Erro ao deletar produto")}finally{S(null)}}},C=r=>{v(r)},O=()=>{v(null),k.invalidateQueries({queryKey:["admin-products"]}),_()};return L&&!A.length?e.jsx("div",{className:"text-center py-8",children:"Carregando produtos..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-title font-bold",children:["Produtos Cadastrados ",N&&e.jsx("span",{className:"text-sm text-gray-400",children:"(atualizando…)"})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx("input",{type:"text",value:p,onChange:r=>P(r.target.value),placeholder:"Buscar por nome ou SKU...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none text-sm"}),e.jsx(we,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]})}),e.jsx("div",{className:"max-h-[600px] overflow-auto divide-y",children:n.map(r=>{const f=r.thumb_url||r.imagem_url||r.imagens_urls?.[0],b=f?pe(f,"thumbnail"):"";return e.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 hover:bg-gray-50",children:[b?e.jsx("img",{src:b,alt:r.nome??"Produto",className:"w-16 h-16 object-contain rounded bg-gray-50"}):e.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 rounded",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Sem img"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:r.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",r.id]}),e.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:r.categorias?.map(u=>e.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:u},u))}),r.variacoes&&r.variacoes.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.variacoes.length," variações de cor"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(r),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",disabled:z===r.id,children:e.jsx(Ie,{size:18})}),e.jsx("button",{onClick:()=>g(r),className:"p-2 text-red-600 hover:bg-red-50 rounded disabled:opacity-50",title:"Excluir",disabled:z===r.id,children:z===r.id?e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(xe,{size:18})})]})]},r.id)})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>o(r=>Math.max(0,r-1)),disabled:s===0,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg disabled:opacity-50 hover:bg-gray-200",children:[e.jsx(ve,{size:18}),"Anterior"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Página ",s+1]}),e.jsxs("button",{onClick:()=>o(r=>r+1),disabled:A.length<w,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg disabled:opacity-50 hover:bg-gray-200",children:["Próximo",e.jsx(Ne,{size:18})]})]})]}),E&&e.jsx(Re,{product:E,onClose:O})]})}function Me(){const[s,o]=c.useState(""),[l,y]=c.useState(!1),[E,v]=c.useState(null),[z,S]=c.useState(""),[p,P]=c.useState(!1),{data:w=[],refetch:k}=ie(),D=n=>{const g=n.target.files?.[0];g&&(v(g),S(URL.createObjectURL(g)))},A=async n=>{n.preventDefault(),P(!0);try{const g=s.toLowerCase().replace(/\s+/g,"-");let C="";E&&(C=await H(E,{folder:"categorias",productId:g,type:"category"})),await X(W(T,"categorias",g),{id:g,nome:s,productCount:0,popular:l,imagePath:C}),o(""),y(!1),v(null),S(""),k()}catch(g){console.error(g),alert("Erro ao criar categoria")}finally{P(!1)}},L=async n=>{if(confirm("Tem certeza? Esta ação não pode ser desfeita."))try{n.imagePath&&await Q(n.imagePath),await ue(W(T,"categorias",n.id)),k()}catch(g){console.error(g),alert("Erro ao excluir categoria")}},_=async n=>{try{await oe(W(T,"categorias",n.id),{popular:!n.popular}),k()}catch(g){console.error(g),alert("Não foi possível atualizar popular")}},N=async(n,g)=>{try{const C=await H(g,{folder:"categorias",productId:n.id,type:"category"});n.imagePath&&await Q(n.imagePath),await oe(W(T,"categorias",n.id),{imagePath:C}),k()}catch(C){console.error(C),alert("Não foi possível atualizar a imagem")}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-title font-bold mb-6",children:"Gerenciar Categorias"}),e.jsxs("form",{onSubmit:A,className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nome da categoria"}),e.jsx("input",{type:"text",value:s,onChange:n=>o(n.target.value),placeholder:"Nome da categoria",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Imagem da categoria"}),z?e.jsxs("div",{className:"relative w-full h-24",children:[e.jsx("img",{src:z,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{v(null),S("")},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:e.jsx(J,{size:14})})]}):e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx(G,{size:16}),e.jsx("span",{className:"text-sm",children:"Selecionar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden"})]})]})]}),e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:n=>y(n.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:"Marcar como categoria popular"})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-primary hover:opacity-90 text-text-primary font-semibold px-6 py-3 rounded-lg disabled:opacity-50",children:p?"Criando...":"Criar Categoria"})]}),e.jsx("div",{className:"space-y-2",children:w.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.imagePath&&e.jsx("img",{src:pe(n.imagePath,"thumbnail"),alt:n.nome,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:n.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.productCount||0," produtos"]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3",children:[e.jsx("button",{onClick:()=>void _(n),className:`px-3 py-1 rounded border text-sm ${n.popular?"bg-green-600 text-white border-green-600":"bg-white text-gray-700 border-gray-300"}`,children:n.popular?"Popular ✓":"Marcar como popular"}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50",children:[e.jsx(G,{size:14}),e.jsx("span",{className:"text-xs",children:"Alterar imagem"}),e.jsx("input",{type:"file",accept:"image/*",onChange:g=>{const C=g.target.files?.[0];C&&N(n,C)},className:"hidden"})]})]})]})]}),e.jsx("button",{onClick:()=>void L(n),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:e.jsx(xe,{size:18})})]},n.id))})]})}function Te(){const[s,o]=c.useState({banners:[],promotions:[],popups:[]}),[l,y]=c.useState(!1),[E,v]=c.useState(null),[z,S]=c.useState(""),[p,P]=c.useState(""),[w,k]=c.useState(""),[D,A]=c.useState("");c.useEffect(()=>{L(),_()},[]);const L=async()=>{try{const t=await ne(W(T,"config","layout"));if(t.exists()){const a=t.data();o(a),P(a.companyInfo?.title||""),k(a.companyInfo?.description||""),a.whatsapp&&A(a.whatsapp)}}catch(t){console.error("Erro ao carregar assets:",t),S("Erro ao carregar configurações")}},_=async()=>{try{const t=await ne(W(T,"config","general"));if(t.exists()){const a=t.data();a.whatsappNumber&&!D&&A(a.whatsappNumber)}}catch(t){console.error("Erro ao carregar WhatsApp:",t)}},N=async t=>{await X(W(T,"config","layout"),t,{merge:!0})},n=async t=>{await X(W(T,"config","general"),{whatsappNumber:t},{merge:!0})},g=(t,a=3e3)=>{S(t),setTimeout(()=>S(""),a)},C=async()=>{try{const t={...s,companyInfo:w?{title:p,description:w}:void 0,whatsapp:D||void 0};await N(t),D&&await n(D),o(t),g("Informações salvas com sucesso!")}catch(t){console.error(t),g("Erro ao salvar informações")}},O=async t=>{y(!0),v("logo");try{const a=await H(t,{folder:"layout",type:"logo"});s.logo&&await Q(s.logo);const m={...s,logo:a};await N(m),o(m),g("Logo atualizado com sucesso!")}catch(a){console.error(a),g("Erro ao fazer upload do logo")}finally{y(!1),v(null)}},r=async(t,a,m,h)=>{y(!0),v(a);try{const j=[];for(let M=0;M<t.length;M++){const i=await H(t[M],{folder:m,type:h});j.push(i)}const q={...s,[a]:[...s[a],...j]};await N(q),o(q),g(`${{banners:"Banners",promotions:"Promoções",popups:"Popups"}[a]} adicionados com sucesso!`)}catch(j){console.error(j),g("Erro ao fazer upload")}finally{y(!1),v(null)}},f=async(t,a)=>{try{const m=s[t][a];await Q(m);const h={...s,[t]:s[t].filter((j,q)=>q!==a)};await N(h),o(h),g("Item removido com sucesso!")}catch(m){console.error(m),g("Erro ao remover item")}},b=async()=>{if(s.logo)try{await Q(s.logo);const t={...s,logo:void 0};await N(t),o(t),g("Logo removido com sucesso!")}catch(t){console.error(t),g("Erro ao remover logo")}},u=(t,a,m=!1,h=!1,j)=>e.jsxs("label",{className:`group relative inline-flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-dashed border-primary/30 rounded-xl cursor-pointer hover:border-primary hover:from-primary/20 hover:to-primary/10 transition-all ${h?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white rounded-lg shadow-sm group-hover:shadow-md transition-shadow",children:h?e.jsx(ke,{size:20,className:"animate-spin text-primary"}):j||e.jsx(G,{size:20,className:"text-primary"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:t}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Clique para selecionar ",m?"arquivos":"arquivo"]})]}),e.jsx("input",{type:"file",accept:"image/*",multiple:m,onChange:q=>{q.target.files&&a(q.target.files)},className:"hidden",disabled:l})]}),x=(t,a,m)=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map((h,j)=>e.jsxs("div",{className:`relative ${m} border-2 border-gray-200 rounded-xl overflow-hidden group hover:border-primary transition-colors bg-gray-50`,children:[e.jsx("img",{src:Z(h,"thumbnail"),alt:`${a} ${j+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:e.jsx("button",{onClick:()=>void f(a,j),className:"opacity-0 group-hover:opacity-100 bg-red-500 hover:bg-red-600 text-white rounded-full p-3 transition-all shadow-lg transform scale-75 group-hover:scale-100",title:"Remover",children:e.jsx(J,{size:20})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("p",{className:"text-white text-xs font-medium text-center",children:[a==="banners"?"Banner":a==="promotions"?"Promoção":"Popup"," #",j+1]})})]},`${h}-${j}`))}),V=(t,a)=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm",children:t}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:a})]});return e.jsxs("div",{className:"space-y-8",children:[z&&e.jsx("div",{className:`p-4 rounded-xl text-center font-semibold shadow-md animate-fade-in ${z.includes("sucesso")?"bg-green-50 text-green-700 border-2 border-green-200":"bg-red-50 text-red-700 border-2 border-red-200"}`,children:z}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Se,{size:20,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Sobre a Empresa"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Texto exibido na home"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Título (opcional)"}),e.jsx("input",{type:"text",value:p,onChange:t=>P(t.target.value),placeholder:"Ex: Sobre Nós",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descrição"}),e.jsx("textarea",{value:w,onChange:t=>k(t.target.value),placeholder:"Descreva sua empresa...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-colors resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Configurações Gerais"}),e.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp e outros ajustes"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(Ce,{size:16}),"WhatsApp"]}),e.jsx("input",{type:"text",value:D,onChange:t=>A(t.target.value),placeholder:"Ex: 5589994333316",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-colors"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Apenas números com DDI e DDD"})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>void C(),className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Salvar Configurações"})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(ce,{size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Logo Principal"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Logotipo exibido no cabeçalho do site"})]})]}),s.logo?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-64 h-32 border-2 border-gray-200 rounded-xl p-4 group hover:border-primary transition-colors bg-gray-50",children:e.jsx("img",{src:Z(s.logo,"thumbnail"),alt:"Logo",className:"w-full h-full object-contain"})}),e.jsx("button",{onClick:()=>void b(),className:"absolute -top-3 -right-3 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 shadow-lg transition-all transform hover:scale-110",title:"Remover logo",children:e.jsx(J,{size:18})})]}):u("Adicionar Logo",t=>void O(t[0]),!1,E==="logo",e.jsx(ce,{size:20,className:"text-primary"}))]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(se,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Banners Hero"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Slides principais da página inicial"})]})]}),e.jsx("div",{className:"mb-6",children:u("Adicionar Banners",t=>void r(t,"banners","layout/banners","banner"),!0,E==="banners",e.jsx(se,{size:20,className:"text-primary"}))}),s.banners.length>0?x(s.banners,"banners","aspect-video"):V(e.jsx(se,{size:28,className:"text-gray-400"}),"Nenhum banner adicionado")]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ae,{size:20,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Promoções em Destaque"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cards de ofertas especiais"})]})]}),e.jsx("div",{className:"mb-6",children:u("Adicionar Promoções",t=>void r(t,"promotions","layout/promocoes","promotion"),!0,E==="promotions",e.jsx(ae,{size:20,className:"text-primary"}))}),s.promotions.length>0?x(s.promotions,"promotions","aspect-square"):V(e.jsx(ae,{size:28,className:"text-gray-400"}),"Nenhuma promoção adicionada")]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ee,{size:20,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-title font-bold text-gray-800",children:"Popups"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Modais promocionais"})]})]}),e.jsx("div",{className:"mb-6",children:u("Adicionar Popups",t=>void r(t,"popups","layout/popups","popup"),!0,E==="popups",e.jsx(ee,{size:20,className:"text-primary"}))}),s.popups.length>0?x(s.popups,"popups","aspect-square"):V(e.jsx(ee,{size:28,className:"text-gray-400"}),"Nenhum popup adicionado")]})]})}function He(){const[s,o]=c.useState("products"),l=async()=>{await ye(je)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-title font-bold",children:"Painel Admin"}),e.jsx("button",{onClick:l,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg",children:"Sair"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto",children:[e.jsx("button",{onClick:()=>o("products"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${s==="products"?"bg-primary text-text-primary":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Produtos"}),e.jsx("button",{onClick:()=>o("categories"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${s==="categories"?"bg-primary text-text-primary":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Categorias"}),e.jsx("button",{onClick:()=>o("layout"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${s==="layout"?"bg-primary text-text-primary":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Layout"}),e.jsx("button",{onClick:()=>o("config"),className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${s==="config"?"bg-primary text-text-primary":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"Configurações"})]}),s==="products"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(Ue,{}),e.jsx(qe,{})]}),s==="categories"&&e.jsx(Me,{}),s==="layout"&&e.jsx(Te,{})]})]})}export{He as default};
