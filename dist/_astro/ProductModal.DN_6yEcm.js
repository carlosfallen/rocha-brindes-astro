import{j as e}from"./Providers.Bn6N5NNK.js";import{r as c}from"./index.Ba-IbuDT.js";import{I as m}from"./Image.DsorNoV2.js";import{u as b,S as f}from"./Home.BLR7uAdF.js";import{X as p}from"./x.BescSzEA.js";import"./createLucideIcon.CWG7bwo-.js";const I=c.memo(function({product:r,onClose:i}){const{add:d}=b(),l=c.useMemo(()=>{const a=[];return r.imagem_url&&a.push({label:"Principal",url:r.imagem_url}),r.variacoes?.length&&r.variacoes.forEach(s=>{s.imagem_url&&a.push({label:s.cor,url:s.imagem_url,variation:s})}),!a.length&&r.imagens_urls?.length&&r.imagens_urls.forEach((s,t)=>{a.push({label:t===0?"Imagem":`Imagem ${t+1}`,url:s})}),a},[r]),[o,x]=c.useState(0),n=l[o]||l[0],h=()=>{d(r),i()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("button",{onClick:i,className:"absolute top-3 right-3 bg-black/70 text-white rounded-full p-2 z-10 hover:bg-black transition",children:e.jsx(p,{size:18})}),e.jsxs("div",{className:"grid md:grid-cols-[1.2fr_1fr] gap-0 md:gap-6 h-full",children:[e.jsxs("div",{className:"bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n&&e.jsx(m,{src:n.url,alt:`${r.nome} - ${n.label}`,width:800,priority:!0,className:"max-h-[340px] md:max-h-[560px] w-auto object-contain"})}),l.length>1&&e.jsx("div",{className:"border-t border-gray-200 px-4 py-3 flex gap-2 overflow-x-auto",children:l.map((a,s)=>e.jsxs("button",{type:"button",onClick:()=>x(s),className:`relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border ${s===o?"border-primary ring-2 ring-primary/40":"border-gray-200 hover:border-gray-300"}`,title:a.label,children:[e.jsx(m,{src:a.url,alt:a.label,width:64,className:"w-full h-full object-cover"}),a.variation&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-[10px] text-white px-1 py-0.5 text-center truncate",children:a.variation.cor})]},`${a.label}-${s}`))})]}),e.jsxs("div",{className:"p-5 md:p-6 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"font-bold text-2xl text-gray-800 mb-1",children:r.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cód: ",r.id]})]}),r.descricao&&e.jsx("p",{className:"text-sm text-gray-700 mb-4 whitespace-pre-line",children:r.descricao}),r.categorias?.length>0&&e.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:r.categorias.map(a=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs font-semibold text-gray-700",children:a},a))}),r.variacoes?.length?e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Cores disponíveis"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.variacoes?.map(a=>{const s=l[o]?.variation?.cor===a.cor;return e.jsx("button",{type:"button",onClick:()=>{const t=l.findIndex(g=>g.variation?.cor===a.cor);t>=0&&x(t)},className:`px-3 py-1 rounded-full text-xs font-semibold border transition ${s?"bg-primary text-white border-primary":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`,children:a.cor},a.cor)})})]}):null,e.jsxs("div",{className:"mt-auto pt-4 flex gap-3",children:[e.jsxs("button",{onClick:h,className:"flex-1 inline-flex items-center justify-center gap-2 bg-primary hover:opacity-90 text-white font-semibold py-3 px-4 rounded-lg transition",children:[e.jsx(f,{size:18}),"Adicionar ao orçamento"]}),e.jsx("button",{onClick:i,className:"px-4 py-3 rounded-lg border border-gray-300 text-sm font-semibold text-gray-800 hover:bg-gray-50 transition",children:"Fechar"})]})]})]})]})})});export{I as default};
