import{c as _,g as q,q as k,l as A,e as R,f as z,b as N,d as B,j as a}from"./Providers.CRVvNzA1.js";import{r as H,g as U,R as J}from"./index.Ba-IbuDT.js";import{u as W,c as w,o as G,P as Q}from"./image.BQBxtT52.js";function K(e=6){return W({queryKey:["catalog",e],queryFn:async()=>{const[r,s,o]=await Promise.all([_(k(z(N,"produtos"),R("createdAt","desc"),A(e))),_(k(z(N,"categorias"),R("nome"))),q(B(N,"config","layout"))]),n=r.docs.map(d=>({id:d.id,...d.data()})),t=s.docs.map(d=>({id:d.id,...d.data()})),i=o.exists()?o.data():{},h={logo:i.logo||"",banners:(i.banners||[]).map(d=>({url:d,alt:"Banner Rocha Brindes"})),promotions:i.promotions||[],popups:i.popups||[]};return{products:n,categories:t,layout:h}},staleTime:10*60*1e3,gcTime:30*60*1e3,placeholderData:Y()})}function Y(){if(!(typeof window>"u"))try{const e=localStorage.getItem("catalog-cache");if(e){const r=JSON.parse(e);if(Date.now()-r.timestamp<10*60*1e3)return r.catalog}}catch{return}}const Z={},D=e=>{let r;const s=new Set,o=(g,y)=>{const x=typeof g=="function"?g(r):g;if(!Object.is(x,r)){const f=r;r=y??(typeof x!="object"||x===null)?x:Object.assign({},r,x),s.forEach(v=>v(r,f))}},n=()=>r,d={setState:o,getState:n,getInitialState:()=>m,subscribe:g=>(s.add(g),()=>s.delete(g)),destroy:()=>{(Z?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},m=r=e(o,n,d);return d},X=e=>e?D(e):D;var $={exports:{}},F={},M={exports:{}},O={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S=H;function V(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ee=typeof Object.is=="function"?Object.is:V,te=S.useState,re=S.useEffect,se=S.useLayoutEffect,ne=S.useDebugValue;function oe(e,r){var s=r(),o=te({inst:{value:s,getSnapshot:r}}),n=o[0].inst,t=o[1];return se(function(){n.value=s,n.getSnapshot=r,I(n)&&t({inst:n})},[e,s,r]),re(function(){return I(n)&&t({inst:n}),e(function(){I(n)&&t({inst:n})})},[e]),ne(s),s}function I(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!ee(e,s)}catch{return!0}}function ae(e,r){return r()}var ie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ae:oe;O.useSyncExternalStore=S.useSyncExternalStore!==void 0?S.useSyncExternalStore:ie;M.exports=O;var ce=M.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E=H,le=ce;function ue(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var de=typeof Object.is=="function"?Object.is:ue,me=le.useSyncExternalStore,he=E.useRef,fe=E.useEffect,ge=E.useMemo,ve=E.useDebugValue;F.useSyncExternalStoreWithSelector=function(e,r,s,o,n){var t=he(null);if(t.current===null){var i={hasValue:!1,value:null};t.current=i}else i=t.current;t=ge(function(){function d(f){if(!m){if(m=!0,g=f,f=o(f),n!==void 0&&i.hasValue){var v=i.value;if(n(v,f))return y=v}return y=f}if(v=y,de(g,f))return v;var u=o(f);return n!==void 0&&n(v,u)?(g=f,v):(g=f,y=u)}var m=!1,g,y,x=s===void 0?null:s;return[function(){return d(r())},x===null?void 0:function(){return d(x())}]},[r,s,o,n]);var h=me(e,t[0],t[1]);return fe(function(){i.hasValue=!0,i.value=h},[h]),ve(h),h};$.exports=F;var pe=$.exports;const xe=U(pe),P={},{useDebugValue:ye}=J,{useSyncExternalStoreWithSelector:be}=xe;let C=!1;const Se=e=>e;function je(e,r=Se,s){(P?"production":void 0)!=="production"&&s&&!C&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),C=!0);const o=be(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,s);return ye(o),o}const we=e=>{(P?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?X(e):e,s=(o,n)=>je(r,o,n);return Object.assign(s,r),s},Ee=e=>we,Ne={};function Ie(e,r){let s;try{s=e()}catch{return}return{getItem:n=>{var t;const i=d=>d===null?null:JSON.parse(d,void 0),h=(t=s.getItem(n))!=null?t:null;return h instanceof Promise?h.then(i):i(h)},setItem:(n,t)=>s.setItem(n,JSON.stringify(t,void 0)),removeItem:n=>s.removeItem(n)}}const j=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(o){return j(o)(s)},catch(o){return this}}}catch(s){return{then(o){return this},catch(o){return j(o)(s)}}}},_e=(e,r)=>(s,o,n)=>{let t={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:l=>l,version:0,merge:(l,p)=>({...p,...l}),...r},i=!1;const h=new Set,d=new Set;let m;try{m=t.getStorage()}catch{}if(!m)return e((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),s(...l)},o,n);const g=j(t.serialize),y=()=>{const l=t.partialize({...o()});let p;const c=g({state:l,version:t.version}).then(b=>m.setItem(t.name,b)).catch(b=>{p=b});if(p)throw p;return c},x=n.setState;n.setState=(l,p)=>{x(l,p),y()};const f=e((...l)=>{s(...l),y()},o,n);let v;const u=()=>{var l;if(!m)return;i=!1,h.forEach(c=>c(o()));const p=((l=t.onRehydrateStorage)==null?void 0:l.call(t,o()))||void 0;return j(m.getItem.bind(m))(t.name).then(c=>{if(c)return t.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==t.version){if(t.migrate)return t.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var b;return v=t.merge(c,(b=o())!=null?b:f),s(v,!0),y()}).then(()=>{p?.(v,void 0),i=!0,d.forEach(c=>c(v))}).catch(c=>{p?.(void 0,c)})};return n.persist={setOptions:l=>{t={...t,...l},l.getStorage&&(m=l.getStorage())},clearStorage:()=>{m?.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>u(),hasHydrated:()=>i,onHydrate:l=>(h.add(l),()=>{h.delete(l)}),onFinishHydration:l=>(d.add(l),()=>{d.delete(l)})},u(),v||f},ke=(e,r)=>(s,o,n)=>{let t={storage:Ie(()=>localStorage),partialize:u=>u,version:0,merge:(u,l)=>({...l,...u}),...r},i=!1;const h=new Set,d=new Set;let m=t.storage;if(!m)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),s(...u)},o,n);const g=()=>{const u=t.partialize({...o()});return m.setItem(t.name,{state:u,version:t.version})},y=n.setState;n.setState=(u,l)=>{y(u,l),g()};const x=e((...u)=>{s(...u),g()},o,n);n.getInitialState=()=>x;let f;const v=()=>{var u,l;if(!m)return;i=!1,h.forEach(c=>{var b;return c((b=o())!=null?b:x)});const p=((l=t.onRehydrateStorage)==null?void 0:l.call(t,(u=o())!=null?u:x))||void 0;return j(m.getItem.bind(m))(t.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==t.version){if(t.migrate)return[!0,t.migrate(c.state,c.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var b;const[L,T]=c;if(f=t.merge(T,(b=o())!=null?b:x),s(f,!0),L)return g()}).then(()=>{p?.(f,void 0),f=o(),i=!0,d.forEach(c=>c(f))}).catch(c=>{p?.(void 0,c)})};return n.persist={setOptions:u=>{t={...t,...u},u.storage&&(m=u.storage)},clearStorage:()=>{m?.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:u=>(h.add(u),()=>{h.delete(u)}),onFinishHydration:u=>(d.add(u),()=>{d.delete(u)})},t.skipHydration||v(),f||x},Re=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Ne?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),_e(e,r)):ke(e,r),ze=Re,De=Ee()(ze((e,r)=>({items:[],isOpen:!1,count:0,category:"Todos",search:"",add:s=>{const o=r().items,t=o.find(i=>i.id===s.id)?o.map(i=>i.id===s.id?{...i,quantity:i.quantity+1}:i):[...o,{...s,quantity:1}];e({items:t,count:t.reduce((i,h)=>i+h.quantity,0)})},remove:s=>{const o=r().items.filter(n=>n.id!==s);e({items:o,count:o.reduce((n,t)=>n+t.quantity,0)})},updateQuantity:(s,o)=>{const n=r().items.map(t=>t.id===s?{...t,quantity:o}:t);e({items:n,count:n.reduce((t,i)=>t+i.quantity,0)})},clear:()=>e({items:[],count:0}),toggle:()=>e({isOpen:!r().isOpen}),setCategory:s=>e({category:s}),setSearch:s=>e({search:s})}),{name:"cart-storage"}));/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=w("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=w("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=w("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=w("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=w("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);function Oe(){const{count:e,toggle:r}=De(),{data:s,isLoading:o}=K(),n=s?.layout.logo,t=n?G(n,"thumbnail"):"";return a.jsx("header",{className:"sticky top-0 z-40 bg-white shadow-md border-b border-gray-100",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[o||!t?a.jsx("div",{className:"h-10 sm:h-14 md:h-16 w-32 sm:w-48 md:w-64 bg-gray-200 animate-pulse rounded"}):a.jsx("img",{src:t,alt:"Rocha Brindes",className:"h-5 sm:h-7 md:h-9 w-auto object-contain",loading:"eager"}),a.jsxs("button",{onClick:r,className:"relative p-2.5 sm:p-3 bg-primary hover:bg-primary-dark text-white rounded-full transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105","aria-label":"Abrir carrinho",children:[a.jsx(Me,{size:20,className:"sm:w-6 sm:h-6",strokeWidth:2.5}),e>0&&a.jsx("span",{className:"absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 bg-accent text-dark font-bold text-[10px] sm:text-xs min-w-[20px] sm:min-w-[24px] h-[20px] sm:h-[24px] flex items-center justify-center rounded-full border-2 sm:border-3 border-white shadow-md",children:e})]})]})})})}function Pe(){return a.jsx("footer",{className:"bg-dark text-white mt-auto",children:a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-title font-bold text-xl mb-4",children:"Rocha Brindes"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Soluções personalizadas em brindes corporativos"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Links Rápidos"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"/",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"/produtos",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Catálogo"})}),a.jsx("li",{children:a.jsx("a",{href:"/sobre",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Sobre Nós"})}),a.jsx("li",{children:a.jsx("a",{href:"/contato",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Contato"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Contato"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[a.jsx(Q,{size:16,className:"mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"(89) 99433-3316"})]}),a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[a.jsx($e,{size:16,className:"mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"contato@rochabrindes.com.br"})]}),a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[a.jsx(Fe,{size:16,className:"mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Sucupira do Riachão - MA"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Redes Sociais"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-colors",children:a.jsx(He,{size:20})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-colors",children:a.jsx(Ce,{size:20})})]})]})]}),a.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center text-sm text-gray-400",children:a.jsxs("p",{children:["© ",new Date().getFullYear()," Rocha Brindes. Todos os direitos reservados."]})})]})})}function Ae({children:e}){return a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(Oe,{}),a.jsx("main",{className:"flex-1",children:e}),a.jsx(Pe,{})]})}export{Ae as L,$e as M,Me as S,De as a,K as u};
